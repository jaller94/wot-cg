"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[643],{3905:(e,t,a)=>{a.d(t,{Zo:()=>u,kt:()=>h});var n=a(7294);function i(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){i(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,i=function(e,t){if(null==e)return{};var a,n,i={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(i[a]=e[a])}return i}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},u=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,u=o(e,["components","mdxType","originalType","parentName"]),p=c(a),d=i,h=p["".concat(l,".").concat(d)]||p[d]||m[d]||r;return a?n.createElement(h,s(s({ref:t},u),{},{components:a})):n.createElement(h,s({ref:t},u))}));function h(e,t){var a=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=a.length,s=new Array(r);s[0]=d;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o[p]="string"==typeof e?e:i,s[1]=o;for(var c=2;c<r;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},9776:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>r,metadata:()=>o,toc:()=>c});var n=a(7462),i=(a(7294),a(3905));const r={sidebar_label:"JSON in Practice"},s="JSON in Practice",o={unversionedId:"preliminary/json/practice",id:"preliminary/json/practice",title:"JSON in Practice",description:"In the previous section, we showed mostly primitive types of JSON. In this section, we will first focus on arrays and objects, and then we will go over some common mistakes when writing JSON. At the end, we will demonstrate the usage of JSON generation and parsing.",source:"@site/docs/preliminary/json/practice.md",sourceDirName:"preliminary/json",slug:"/preliminary/json/practice",permalink:"/wot-cg/tutorials/whatiswot/docs/preliminary/json/practice",draft:!1,editUrl:"https://github.com/w3c/wot-cg/docs/preliminary/json/practice.md",tags:[],version:"current",frontMatter:{sidebar_label:"JSON in Practice"},sidebar:"tutorialSidebar",previous:{title:"Introduction",permalink:"/wot-cg/tutorials/whatiswot/docs/preliminary/json/intro"},next:{title:"Introduction",permalink:"/wot-cg/tutorials/whatiswot/docs/preliminary/json-schema/intro"}},l={},c=[{value:"Structured Types",id:"structured-types",level:2},{value:"JSON Array",id:"json-array",level:3},{value:"Nested objects",id:"nested-objects",level:3},{value:"Common Mistakes",id:"common-mistakes",level:2},{value:"Space character",id:"space-character",level:3},{value:"Case sensitivity",id:"case-sensitivity",level:3},{value:"Quotation marks",id:"quotation-marks",level:3},{value:"Comments",id:"comments",level:3},{value:"Trailing Commas",id:"trailing-commas",level:3},{value:"Programming Language Syntax",id:"programming-language-syntax",level:3},{value:"Practice exercise",id:"practice-exercise",level:2}],u={toc:c},p="wrapper";function m(e){let{components:t,...r}=e;return(0,i.kt)(p,(0,n.Z)({},u,r,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"json-in-practice"},"JSON in Practice"),(0,i.kt)("p",null,"In the previous section, we showed mostly primitive types of JSON. In this section, we will first focus on arrays and objects, and then we will go over some common mistakes when writing JSON. At the end, we will demonstrate the usage of JSON generation and parsing."),(0,i.kt)("h2",{id:"structured-types"},"Structured Types"),(0,i.kt)("h3",{id:"json-array"},"JSON Array"),(0,i.kt)("p",null,"In JSON, each value in an array is called an item.\nArrays with items of different types are also allowed."),(0,i.kt)("p",null,"Accepted types:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Number"),(0,i.kt)("li",{parentName:"ul"},"String"),(0,i.kt)("li",{parentName:"ul"},"Boolean"),(0,i.kt)("li",{parentName:"ul"},"Null")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"json array",src:a(1466).Z,width:"1066",height:"612"})),(0,i.kt)("h3",{id:"nested-objects"},"Nested objects"),(0,i.kt)("p",null,"Nested objects are allowed in JSON. The \u201cmeasurement\u201d keyword is an example of this."),(0,i.kt)("p",null,"Objects start and end with curly brackets. We are essentially defining keywords and mapping these keywords to values.\nIn this example, we define the name and value pairs to describe the data sent by sensors."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"nested object",src:a(2956).Z,width:"1226",height:"692"})),(0,i.kt)("p",null,"Here is a JSON array in which all of its items are JSON objects:"),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"json object array",src:a(704).Z,width:"1498",height:"842"})),(0,i.kt)("h2",{id:"common-mistakes"},"Common Mistakes"),(0,i.kt)("p",null,"Now let's cover some common mistakes which can occur while writing JSON files."),(0,i.kt)("h3",{id:"space-character"},"Space character"),(0,i.kt)("p",null,"Let's start with the space character which is frequently overlooked.\nSpace counts as a character too."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"For example \u201cisActive\u201d is not the same as \u201cisActive \u201d.")),(0,i.kt)("h3",{id:"case-sensitivity"},"Case sensitivity"),(0,i.kt)("p",null,"JSON is also case sensitive. Paying attention to this is important to make sure that object assignments and comparisons work."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},'"isActive" with an upper case "A" is not the same as \u201cisactive\u201d with a lower case "a".')),(0,i.kt)("h3",{id:"quotation-marks"},"Quotation marks"),(0,i.kt)("p",null,"Be careful not to forget any necessary quotation marks."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},'"name: "Web of Things" is missing a quotation mark after name, which will lead to validation errors.')),(0,i.kt)("p",null,"Conversely, putting them where you should not, can cause unwanted results."),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"For example \u2192 \u201cname\u201d: \u201dtrue\u201d is not the same as \u201cname\u201d: true without quotation marks. The first one is not a boolean but a string; so it will be interpreted as a string.")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},'The same problem would happen with numbers as well - "value": "90"\xa0would be interpreted as a string because of the unnecessary quotation marks.')),(0,i.kt)("p",null,"We should always pay attention to the type we want to use and use quotation marks with intent. This way, the types will be correctly interpreted by your programming language."),(0,i.kt)("h3",{id:"comments"},"Comments"),(0,i.kt)("p",null,"Putting comments inside JSON documents is not valid in contrast to most of the programming languages."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"comment",src:a(738).Z,width:"1272",height:"578"})),(0,i.kt)("h3",{id:"trailing-commas"},"Trailing Commas"),(0,i.kt)("p",null,"Commas should not be used at the final name-value pair - that is why the left example is not valid. This is more difficult to see if you are using it inside of a Javascript editor rather than a JSON editor."),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"json js",src:a(2587).Z,width:"1506",height:"650"})),(0,i.kt)("h3",{id:"programming-language-syntax"},"Programming Language Syntax"),(0,i.kt)("p",null,"Similar to the previous issue depending on the programming language that you use syntax might differ."),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"In JSON key-value pairs have to be with quotation marks whereas in JavaScript files it is not necessary to have quotation marks, both work.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"quotation marks syntax example",src:a(4409).Z,width:"1280",height:"436"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"The syntax of the keywords might differ as well. For example, the true and false keywords in JSON, Rust, JavaScript, and Golang are written lowercase while in Python the first letter of these keywords needs to be capitalized.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"quotation marks syntax example",src:a(9449).Z,width:"1280",height:"471"})),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"Similar to the previous one, the null keyword differs in JSON and Python. In JSON and JavaScript it is null with lowercase while in Python, the same meaning is given with the \xabNone\xbb keyword.")),(0,i.kt)("p",null,(0,i.kt)("img",{alt:"quotation marks syntax example",src:a(4062).Z,width:"1280",height:"471"})),(0,i.kt)("h2",{id:"practice-exercise"},"Practice exercise"),(0,i.kt)("p",null,"Now let's put our new knowledge to practice! Open a code editor of your choice. Create a JSON file and save it by giving it a file name and adding a .json extension. Then the editor will recognize this file as a JSON document."),(0,i.kt)("p",null,"We will now read a JSON file from the file system using a JSON library in Python. First, we will open the JSON file that we have previously saved to the file system with open-as-file key words. Then, we can load that JSON file with the load function into the data object. We can also print it to see what is inside the JSON file:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"import json\n\nwith open('JSON_example.json') as file:\n    data: json.load(file)\n\nprint(data)\n")),(0,i.kt)("p",null,"Printing the data object in the console can look something like this:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-json"},"[{'name': 'Temperature sensor', \u2018sensorID': '20014\u2019,\n'type': 'Temperature', 'unit': 'Celsius', 'value': 42}]\n")),(0,i.kt)("p",null,"There are many ways to send a JSON file via different protocols, one of them is using Python and its request library for sending an HTTP request. With this library, you can use the post function to send an HTTP POST request with a JSON Payload. As a parameter, it takes the URL to send to and the JSON object."),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-py"},"import requests\n\nurl = 'https://example.com/myResource'\njsonObj = {'someKey': 'someValue'}\n\nx = requests.post(url, json = jsonObj)\n\nprint(x.text)\n")))}m.isMDXComponent=!0},738:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/comment-0703df62a9891bfe98964b44abf1d69d.png"},1466:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/json-array-d18cfa2d719efbc32c9330f7d0b66288.png"},2587:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/json-js-236f5b2eebf9167cbaf89b9942541a8d.png"},704:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/json-object-array-59ae10e557607872af1247b9a4f46db9.png"},2956:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/nested-object-e36147b3de950dcd738f6fcb0fee7833.png"},9449:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/syntaxboolean-b2596811618bc8aacbb9d4d6bc5f54fc.png"},4062:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/syntaxnull-d4ecec9b9c873fa0184f7cd409b3d634.png"},4409:(e,t,a)=>{a.d(t,{Z:()=>n});const n=a.p+"assets/images/syntaxquotation-272f5155ba13c92d7fbcbd56f3ace0ca.png"}}]);